---
## Front matter
lang: ru-RU
title: Лабораторная работа №6 Поиск файлов. Перенаправление ввода-вывода. Просмотр запущенных процессов.
author: Emil A. Samigullin
institute: |
	\inst{1}RUDN University, Moscow, Russian Federation
date: 27 April, 2022 Moscow, Russian Federation

## Formatting
toc: false
slide_level: 2
theme: metropolis
header-includes: 
 - '\makeatletter'
 - '\makeatother'
aspectratio: 43
section-titles: true
---

# Лабораторная работа №8
# Текстовой редактор vi.

Автор: Смирнов-Мальцев Егор Дмитриевич

Москва, 2022

---

# Цель работы

* Познакомиться с операционной системой Linux.
Получить практические навыки работы с редактором vi, установленным по умолчанию практически во всех дистрибутивах.

---

# Теоретическое введение

В любой момент при работе в редакторе vi вы находитесь в одном из трёх режимов редактора: командный режим (command mode), режим ввода (insert mode) и режим последней строки (last line mode).

При запуске редактора vi вы оказываетесь в командном режиме. В этом режиме можно давать команды для редактирования файлов или перейти в другой режим. Например, вводя ```x``` в командном режиме мы удаляем символ, на который указывает курсор. Клавиши-стрелки перемещают курсор по редактируемому файлу. Как правило, команды, используемые в командном режиме, состоят из одного или двух символов.

---

# Теоретическое введение

Основной ввод и редактирование текста осуществляется в режиме ввода. При использовании редактора vi основное время, скорее всего, будет проводиться именно в этом режиме. Переход в режим ввода из командного режима осуществляется командой ```i``` (от слова insert). Находясь в режиме ввода, можно вводить текст в то место, куда указывает курсор. Выход из режима ввода в командный режим осуществляется клавишей ```Esc```.

---

# Теоретическое введение

Режим последней строки — это специальный режим, в котором редактору даются сложные команды. При вводе этих команд они отображаются в последней строке экрана (отсюда пошло название режима). Например, если ввести в командном режиме команду ```:```, то осуществится переход в режим последней строки, и можно будет вводить такие команды, как ```wq``` (записать файл и покинуть редактор vi) или ```q!``` (выйти из редактора vi без сохранения изменений). В режиме последней строки обычно вводятся команды, название которых состоит из нескольких символов. В этом режиме в последнюю строку вводится команда, после чего нажимается клавиша ```Enter```, и команда исполняется.

---

# Выполнение лабораторной работы

1. Ознакомился с теоретическим материалом.
2. Ознакомился с редактором vi.
3. Выполнил следующие упражнения:

---

## Создание нового файла с использованием vi

1. Создал каталог с именем ~/work/os/lab06. Перешел во вновь созданный каталог.

2. Вызвал vi и создал файл hello.sh.

3. Нажал клавишу ```i``` и ввёл текст из задания.

4. Нажал клавишу ```Esc``` для перехода в командный режим после завершения ввода текста.

5. Нажал ```:``` для перехода в режим последней строки.

6. Нажал ```w``` (записать) и ```q``` (выйти), а затем нажал клавишу ```Enter``` для сохранения текста и завершения работы.

7. Сделал файл исполняемым.

---

## Редактирование существующего файла.

1. Вызвал vi на редактирование файла.

2. Установил курсор в конец слова HELL второй строки.

3. Перешёл в режим вставки и заменил на HELLO. Нажал ```Esc``` для возврата в командный режим.

4. Установил курсор на четвертую строку и стёр слово LOCAL.

5. Перешёл в режим вставки и набрал следующий текст: local, нажал ```Esc``` для возврата в командный режим.

---

## Редактирование существующего файла.

6. Установил курсор на последней строке файла. Вставил после неё строку, содержащую следующий текст: echo $HELLO.

7. Нажал ```Esc``` для перехода в командный режим.

8. Удалил последнюю строку.

9. Ввел команду отмены изменений ```u``` для отмены последней команды.

10. Ввёл символ ```:``` для перехода в режим последней строки. Записал произведённые изменения и вышел из vi.

---

# Ответы на контрольные вопросы

1. Редактор VI имеет три режима:

* Командный - в этом режиме можно перемещаться по файлу и выполнять редактирующие команды над текстом. Команды вызываются латинскими буквами.
* Ввода текста - в этом режиме обычные латинские буквы будут вставляться в текст.
* Режим строчного редактора используется для управления файлами (сохранить файл, зачитать файл и т.д.)

2. Чтобы выйти из редактора без сохранения надо ввести команду ```q!```.

---

# Ответы на контрольные вопросы

3. Команды позиционирования нужны для быстрого перемещения курсора по файлу.

4. При использовании прописных W и B под словом понимается набор символов между пробелами, табуляцией и возвратом каретки. При использовании строчных w и b под словом понимается набор символов между любыми знаками пунктуации, пробелами, табуляцией и возвратом каретки.

5. Чтобы перейти в начало файла, надо ввести команду ```gg```. Чтобы перейти в конец файла, надо ввести команду ```G```.

---

# Ответы на контрольные вопросы

6. Команды редактирования:

* Команды вставки текста - вставлять можно после курсора и перед ним, в конец и начало строки, также можно вставить текст n раз.
* Команды вставки строки - вставлять можно под курсором и над ним.
* Удаление текста - удалить можно символ, слово, n строк, от начала строки до курсора и от курсора до конца строки.
* Отмена и повтор изменений.
* Копирование текста в буфер - скопировать можно сразу n строк и слово.

---

# Ответы на контрольные вопросы

6. Команды редактирования:

* Вставка текста из буфера - вставить можно перед курсором и после.
* Замена текста - заменить можно n слов, текст от начала строки до курсора, от курсора до конца строки, весь текст.
* Поиск текста - поиск можно проводить по тексту после курсора и до.
* Запись в файл и выход из редактора - можно записать изменения в текущий файл, новый, существующий, а также выйти без записи.

---

# Ответы на контрольные вопросы

7. Чтобы заполнить строку символом $ надо ввести этот символ и перейти в конец строки.

8. Отменить действие можно с помощью команды u.

9. Команды режима последней строки:

* Копирование и перемещение текста - можно заменить, копировать и переместить несколько подряд идущих строк, а также записать их в файл.
* Запись в файл и выход из редактора - можно записать изменения в текущий файл, новый, существующий, а также выйти без записи.

---

# Ответы на контрольные вопросы

10. Чтобы узнать позицию, в которой заканчивается строка можно ввести $ и перейти в конец строки.

11. Опции редактора vi позволяют настроить рабочую среду. Для задания опций используется команда set (в режиме последней строки):
* ```:``` set all — вывести полный список опций;
* ```:``` set nu — вывести номера строк;
* ```:``` set list — вывести невидимые символы;
* ```:``` set ic — не учитывать при поиске, является ли символ прописным или строчным.
Если вы хотите отказаться от использования опции, то в команде set перед именем опции надо поставить no.

---

# Ответы на контрольные вопросы

12. Режим работы редактора можно увидеть в последней строке.

13. Из командного режима можно перейти в режим ввода с помощью команды ```i```,а обратно с помощью ```esc```. Из командного режима можно перейти в режим последней строки с помощью команды ```:```, а обратно с помощью ```enter```.

---

# Выводы

* Я освоил основы работы c редактором vi.
